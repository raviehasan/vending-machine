{% extends 'base.html' %}

{% block content %}
    <h1 class="text-center">Vending Machine Inventory Page</h1>
    <p class="text-center">by Ravie Hasan Abud</p>
    <hr>

    <p>Name: {{name}}</p> 
    <p>Class: {{class}}</p>
    <hr>

    <h3 class="text-center">Kamu menyimpan {{total_products}} product(s) pada aplikasi ini</h3> 
    <br>

    <table class="table table-bordered text-center">
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Amount</th>
            <th scope="col">Price</th>
            <th scope="col">Description</th>
            <th scope="col">Date Added</th>
            <th scope="col">Edit Amount</th>
        </tr>
    
        {% comment %} Berikut cara memperlihatkan data produk di bawah baris ini {% endcomment %}
    
        {% for product in products %}
            <tr>
                <td scope="row">{{product.name}}</td>
                <td>{{product.amount}}</td>
                <td>{{product.price}}</td>
                <td>{{product.description}}</td>
                <td>{{product.date_added}}</td>
                <td>
                    <a href="edit-amount/{{product.id}}/0">
                        <button type="button" class="btn btn-success">
                            +1
                        </button>
                    </a>
                    <a href="edit-amount/{{product.id}}/1">
                        <button type="button" class="btn btn-warning">
                            -1
                        </button>
                    </a>
                    <a href="edit-amount/{{product.id}}/2">
                        <button type="button" class="btn btn-danger">
                            Delete Product
                        </button>
                    </a>
                </td>
            </tr>
        {% endfor %}
    </table>
    
    <br>
    
    <a href="{% url 'main:create_product' %}">
        <button type="button" class="btn btn-success">
            Add New Product
        </button>
    </a>

    <a href="{% url 'main:logout' %}">
        <button type="button" class="btn btn-danger">
            Logout
        </button>
    </a>
    
    <p>Sesi terakhir login: {{ last_login }}</p>
        
{% endblock content %}